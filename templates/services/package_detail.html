{% extends 'base.html' %}
{% load static %}

{% block title %}{{ package.name }} - {{site_name}} Service Packages{% endblock %}

{% block extra_css %}
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<style>
  :root {
    --primary-600: #154D71;
    --primary-500: #1C6EA4;
    --primary-400: #33A1E0;
    --secondary-200: #FFF9AF;
  }
  
  .gradient-text {
    background: linear-gradient(135deg, #154D71, #1C6EA4, #33A1E0);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .floating-orb {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 249, 175, 0.1), rgba(51, 161, 224, 0.1));
    animation: float 6s ease-in-out infinite;
    pointer-events: none;
  }
  
  .floating-orb:nth-child(1) {
    width: 200px;
    height: 200px;
    top: 10%;
    right: 10%;
    animation-delay: 0s;
  }
  
  .floating-orb:nth-child(2) {
    width: 150px;
    height: 150px;
    bottom: 20%;
    left: 15%;
    animation-delay: 2s;
  }
  
  .floating-orb:nth-child(3) {
    width: 100px;
    height: 100px;
    top: 60%;
    right: 20%;
    animation-delay: 4s;
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
  }
  
  .glass-card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }
  
  .service-card {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    transition: all 0.3s ease;
  }
  
  .service-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(21, 77, 113, 0.2);
    border-color: rgba(255, 249, 175, 0.3);
  }
</style>
{% endblock %}

{% block content %}
<!-- Package Header -->
<section class="bg-gradient-to-br from-primary-950 via-slate-900 to-primary-950 text-white py-20 relative overflow-hidden min-h-screen">
    <!-- Background floating orbs -->
    <div class="floating-orb"></div>
    <div class="floating-orb"></div>
    <div class="floating-orb"></div>
    
    <!-- Background pattern -->
    <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle at 2px 2px, #33A1E0 2px, transparent 0); background-size: 60px 60px;"></div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="text-center max-w-4xl mx-auto" data-aos="fade-up">
            <!-- Package badge -->
            <div class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600/20 to-blue-500/20 backdrop-blur-sm border border-blue-400/30 rounded-full px-6 py-2 mb-6">
                <i class="fas fa-gem text-yellow-400 text-sm"></i>
                <span class="text-blue-300 font-medium">Premium Package</span>
            </div>
            
            <h1 class="text-5xl md:text-6xl font-bold mb-6">
                <span class="gradient-text">{{ package.name }}</span>
            </h1>
            
            <p class="text-xl md:text-2xl text-slate-300 mb-8 max-w-3xl mx-auto leading-relaxed">
                {{ package.description|truncatewords:40 }}
            </p>
            
            <!-- Price display with glass effect -->
            <div class="inline-flex items-center gap-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 mb-8" data-aos="zoom-in" data-aos-delay="200">
                <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-2xl flex items-center justify-center">
                    <i class="fas fa-dollar-sign text-slate-900 text-2xl font-bold"></i>
                </div>
                <div class="text-left">
                    <p class="text-slate-400 text-sm font-medium uppercase tracking-wider">Package Price</p>
                    <p class="text-4xl font-bold text-white">${{ package.price }}</p>
                </div>
            </div>
            
            <!-- Action buttons -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center" data-aos="fade-up" data-aos-delay="400">
                <a href="{% url 'core:contact' %}?package={{ package.slug }}" 
                   class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-700 to-blue-600 hover:from-blue-800 hover:to-blue-700 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25 relative overflow-hidden group">
                    <i class="fas fa-rocket relative z-10"></i>
                    <span class="relative z-10">Get Started Now</span>
                    <i class="fas fa-arrow-right relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                    <div class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div>
                </a>
                
                <a href="{% url 'services:package_list' %}" 
                   class="inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:border-white/40 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300">
                    <i class="fas fa-th-large"></i>
                    <span>View All Packages</span>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Package Details -->
<section class="py-20 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 relative">
    <!-- Background pattern -->
    <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle at 1px 1px, #154D71 1px, transparent 0); background-size: 40px 40px;"></div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="flex flex-col lg:flex-row gap-12">
            <!-- Main Content -->
            <div class="lg:w-2/3">
                <!-- Package Description -->
                <div class="glass-card rounded-3xl p-8 mb-12" data-aos="fade-up">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center">
                            <i class="fas fa-file-alt text-white text-xl"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-white">Package Description</h2>
                    </div>
                    <div class="prose prose-invert max-w-none text-slate-300 leading-relaxed">
                        {{ package.description|linebreaks }}
                    </div>
                </div>
                
                <!-- Included Services -->
                <div class="mb-12" data-aos="fade-up" data-aos-delay="200">
                    <div class="flex items-center gap-4 mb-8">
                        <div class="w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl flex items-center justify-center">
                            <i class="fas fa-list-check text-white text-xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-white">Included Services</h3>
                    </div>
                    
                    <div class="grid gap-6">
                        {% for ps in package_services %}
                            <div class="service-card rounded-2xl p-6 group" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:2|default:3 }}00">
                                <div class="flex flex-col md:flex-row md:items-center gap-6">
                                    {% if ps.service.icon %}
                                        <div class="w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                            <i class="fas fa-{{ ps.service.icon }} text-white text-2xl"></i>
                                        </div>
                                    {% endif %}
                                    
                                    <div class="flex-grow">
                                        <h4 class="text-xl font-bold text-white mb-2 group-hover:text-yellow-300 transition-colors duration-300">
                                            {{ ps.service.name }}
                                        </h4>
                                        {% if ps.custom_description %}
                                            <p class="text-slate-300 leading-relaxed">{{ ps.custom_description }}</p>
                                        {% else %}
                                            <p class="text-slate-300 leading-relaxed">{{ ps.service.short_description }}</p>
                                        {% endif %}
                                    </div>
                                    
                                    <div class="flex-shrink-0">
                                        <a href="{% url 'services:detail' ps.service.slug %}" 
                                           class="inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:border-yellow-400/50 text-white hover:text-yellow-300 font-medium py-2 px-4 rounded-lg transition-all duration-300 group/link">
                                            <span>View Details</span>
                                            <i class="fas fa-arrow-right text-sm group-hover/link:translate-x-1 transition-transform duration-300"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        {% empty %}
                            <div class="glass-card rounded-2xl p-8 text-center">
                                <div class="w-16 h-16 bg-gradient-to-br from-slate-600 to-slate-700 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-info-circle text-white text-2xl"></i>
                                </div>
                                <p class="text-slate-400 text-lg">No services are currently included in this package.</p>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                
                <!-- Package Benefits -->
                <div class="glass-card rounded-3xl p-8" data-aos="fade-up" data-aos-delay="400">
                    <div class="flex items-center gap-4 mb-8">
                        <div class="w-12 h-12 bg-gradient-to-br from-green-600 to-green-700 rounded-2xl flex items-center justify-center">
                            <i class="fas fa-star text-white text-xl"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-white">Package Benefits</h3>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="flex items-start gap-4 group">
                            <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                <i class="fas fa-check text-white text-sm"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">Cost Savings</h4>
                                <p class="text-slate-300 text-sm">Significant savings compared to purchasing services individually</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start gap-4 group">
                            <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                <i class="fas fa-check text-white text-sm"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">Seamless Integration</h4>
                                <p class="text-slate-300 text-sm">Services designed to work together perfectly</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start gap-4 group">
                            <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                <i class="fas fa-check text-white text-sm"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">Single Point of Contact</h4>
                                <p class="text-slate-300 text-sm">Simplified project management and communication</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start gap-4 group">
                            <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                <i class="fas fa-check text-white text-sm"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">Priority Support</h4>
                                <p class="text-slate-300 text-sm">Premium support and maintenance included</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sidebar -->
            <div class="lg:w-1/3">
                <div class="glass-card rounded-3xl p-8 sticky top-8" data-aos="fade-left" data-aos-delay="600">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-3xl flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-crown text-white text-3xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">Package Summary</h3>
                        <p class="text-slate-400">Everything you need in one package</p>
                    </div>
                    
                    <!-- Price Display -->
                    <div class="bg-gradient-to-r from-blue-600/20 to-blue-500/20 backdrop-blur-sm border border-blue-400/30 rounded-2xl p-6 mb-6 text-center">
                        <p class="text-slate-400 text-sm font-medium uppercase tracking-wider mb-2">Total Package Price</p>
                        <div class="flex items-center justify-center gap-2">
                            <span class="text-4xl font-bold text-white">${{ package.price }}</span>
                            <div class="text-left">
                                <p class="text-green-400 text-sm font-medium">Save 30%</p>
                                <p class="text-slate-500 text-xs line-through">vs. individual</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Services Count -->
                    <div class="bg-gradient-to-r from-slate-700/50 to-slate-600/50 backdrop-blur-sm border border-slate-500/30 rounded-2xl p-4 mb-6 text-center">
                        <div class="flex items-center justify-center gap-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center">
                                <i class="fas fa-layer-group text-white text-sm"></i>
                            </div>
                            <div class="text-left">
                                <p class="text-white font-semibold">{{ package_services|length }} Services Included</p>
                                <p class="text-slate-400 text-sm">Professional integration</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="space-y-4">
                        <a href="{% url 'core:contact' %}?package={{ package.slug }}" 
                           class="block w-full bg-gradient-to-r from-blue-700 to-blue-600 hover:from-blue-800 hover:to-blue-700 text-white font-bold py-4 px-6 rounded-xl text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25 relative overflow-hidden group">
                            <div class="relative z-10 flex items-center justify-center gap-2">
                                <i class="fas fa-rocket"></i>
                                <span>Request This Package</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div>
                        </a>
                        
                        <a href="{% url 'services:package_list' %}" 
                           class="block w-full bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:border-white/40 text-white font-bold py-4 px-6 rounded-xl text-center transition-all duration-300">
                            <div class="flex items-center justify-center gap-2">
                                <i class="fas fa-th-large"></i>
                                <span>View All Packages</span>
                            </div>
                        </a>
                        
                        <a href="{% url 'core:contact' %}?package={{ package.slug }}&customize=true" 
                           class="block w-full bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-700 hover:to-yellow-600 text-slate-900 font-bold py-4 px-6 rounded-xl text-center transition-all duration-300 transform hover:scale-105">
                            <div class="flex items-center justify-center gap-2">
                                <i class="fas fa-edit"></i>
                                <span>Customize Package</span>
                            </div>
                        </a>
                    </div>
                    
                    <!-- Package Features -->
                    <div class="mt-8 pt-6 border-t border-white/10">
                        <h4 class="text-white font-semibold mb-4 flex items-center gap-2">
                            <i class="fas fa-shield-alt text-green-400"></i>
                            Package Guarantees
                        </h4>
                        <ul class="space-y-3 text-sm">
                            <li class="flex items-center gap-2 text-slate-300">
                                <i class="fas fa-check text-green-400 text-xs"></i>
                                30-day money-back guarantee
                            </li>
                            <li class="flex items-center gap-2 text-slate-300">
                                <i class="fas fa-check text-green-400 text-xs"></i>
                                24/7 premium support
                            </li>
                            <li class="flex items-center gap-2 text-slate-300">
                                <i class="fas fa-check text-green-400 text-xs"></i>
                                Free revisions included
                            </li>
                            <li class="flex items-center gap-2 text-slate-300">
                                <i class="fas fa-check text-green-400 text-xs"></i>
                                Priority project handling
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Custom Package CTA -->
<section class="py-20 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 relative">
    <!-- Background elements -->
    <div class="absolute inset-0 pointer-events-none">
        <div class="absolute top-10 right-10 w-32 h-32 bg-gradient-to-br from-yellow-400/10 to-blue-600/10 rounded-full blur-xl animate-pulse"></div>
        <div class="absolute bottom-10 left-10 w-24 h-24 bg-gradient-to-br from-blue-500/10 to-yellow-300/10 rounded-full blur-lg animate-pulse" style="animation-delay: 2s;"></div>
    </div>
    
    <div class="container mx-auto px-4 text-center relative z-10">
        <div class="bg-gradient-to-r from-slate-800/50 to-slate-700/50 backdrop-blur-xl border border-slate-600/30 rounded-3xl p-12 max-w-4xl mx-auto" data-aos="fade-up">
            <div class="flex items-center justify-center mb-6">
                <div class="w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl flex items-center justify-center mr-4">
                    <i class="fas fa-magic text-white text-2xl"></i>
                </div>
                <h2 class="text-4xl md:text-5xl font-bold text-white">
                    Need to 
                    <span class="bg-gradient-to-r from-yellow-300 to-yellow-400 bg-clip-text text-transparent">
                        Customize This Package?
                    </span>
                </h2>
            </div>
            
            <p class="text-xl text-slate-300 mb-8 max-w-2xl mx-auto leading-relaxed">
                We can tailor this package to better suit your specific requirements and budget. Let's discuss your unique needs and create the perfect solution.
            </p>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="{% url 'core:contact' %}?package={{ package.slug }}&customize=true" 
                   class="inline-flex items-center gap-2 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-slate-900 font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-yellow-500/25 relative overflow-hidden group">
                    <i class="fas fa-edit relative z-10"></i>
                    <span class="relative z-10">Customize This Package</span>
                    <i class="fas fa-arrow-right relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                    <div class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div>
                </a>
                
                <a href="{% url 'core:contact' %}" 
                   class="inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:border-yellow-400/50 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300">
                    <i class="fas fa-comments"></i>
                    <span>Schedule a Consultation</span>
                </a>
            </div>
        </div>
    </div>
</section>

{% block extra_js %}
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  // Initialize AOS animations
  AOS.init({
    duration: 800,
    easing: 'ease-out-cubic',
    once: true,
    offset: 100
  });

  document.addEventListener('DOMContentLoaded', function() {
    // Enhanced service card interactions
    const serviceCards = document.querySelectorAll('.service-card');
    
    serviceCards.forEach(card => {
      card.addEventListener('mouseenter', function() {
        // Add subtle glow effect
        this.style.boxShadow = '0 20px 40px rgba(21, 77, 113, 0.3), 0 0 20px rgba(255, 249, 175, 0.1)';
      });
      
      card.addEventListener('mouseleave', function() {
        // Reset shadow
        this.style.boxShadow = '';
      });
    });

    // Button ripple effect
    const buttons = document.querySelectorAll('a[class*="bg-gradient"]');
    buttons.forEach(button => {
      button.addEventListener('click', function(e) {
        const ripple = document.createElement('div');
        const rect = this.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;
        
        ripple.style.width = ripple.style.height = size + 'px';
        ripple.style.left = x + 'px';
        ripple.style.top = y + 'px';
        ripple.classList.add('ripple-effect');
        
        this.appendChild(ripple);
        
        setTimeout(() => {
          ripple.remove();
        }, 600);
      });
    });

    // Parallax effect for floating orbs
    window.addEventListener('scroll', function() {
      const scrolled = window.pageYOffset;
      const orbs = document.querySelectorAll('.floating-orb');
      
      orbs.forEach((orb, index) => {
        const speed = 0.2 + (index * 0.1);
        orb.style.transform = `translateY(${scrolled * speed}px)`;
      });
    });
  });

  // Add enhanced styles
  const style = document.createElement('style');
  style.textContent = `
    .ripple-effect {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: scale(0);
      animation: ripple-animation 0.6s linear;
      pointer-events: none;
    }
    
    @keyframes ripple-animation {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }
    
    .service-card, .glass-card {
      will-change: transform;
    }
    
    /* Smooth scroll behavior */
    html {
      scroll-behavior: smooth;
    }
    
    /* Enhanced focus states for accessibility */
    a:focus-visible {
      outline: 2px solid #FFF9AF;
      outline-offset: 2px;
    }
  `;
  document.head.appendChild(style);
</script>
{% endblock %}
{% endblock %}
