<!-- Enhanced Tag Component with multiple display styles -->

<!-- Style 1: Icon + Text Tag -->
<style>
.enhanced-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    position: relative;
    overflow: hidden;
}

.enhanced-tag::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
}

.enhanced-tag:hover::before {
    left: 100%;
}

.enhanced-tag:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.enhanced-tag i {
    font-size: 1rem;
}

/* Style 2: Gradient Tags */
.gradient-tag {
    background: linear-gradient(135deg, var(--tag-color), var(--tag-color-dark));
    color: white;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

/* Style 3: Outline Tags */
.outline-tag {
    background: transparent;
    border-color: var(--tag-color);
    color: var(--tag-color);
}

.outline-tag:hover {
    background: var(--tag-color);
    color: white;
}

/* Style 4: Subtle Background Tags */
.subtle-tag {
    background: rgba(var(--tag-color-rgb), 0.1);
    color: var(--tag-color);
    border-color: rgba(var(--tag-color-rgb), 0.2);
}

.subtle-tag:hover {
    background: rgba(var(--tag-color-rgb), 0.2);
}

/* Category-based colors */
.category-frontend { --tag-color: #3B82F6; --tag-color-dark: #1E40AF; --tag-color-rgb: 59, 130, 246; }
.category-backend { --tag-color: #10B981; --tag-color-dark: #047857; --tag-color-rgb: 16, 185, 129; }
.category-design { --tag-color: #F59E0B; --tag-color-dark: #D97706; --tag-color-rgb: 245, 158, 11; }
.category-mobile { --tag-color: #8B5CF6; --tag-color-dark: #7C3AED; --tag-color-rgb: 139, 92, 246; }
.category-infrastructure { --tag-color: #EF4444; --tag-color-dark: #DC2626; --tag-color-rgb: 239, 68, 68; }
.category-ai { --tag-color: #EC4899; --tag-color-dark: #DB2777; --tag-color-rgb: 236, 72, 153; }
.category-security { --tag-color: #F97316; --tag-color-dark: #EA580C; --tag-color-rgb: 249, 115, 22; }
.category-quality { --tag-color: #06B6D4; --tag-color-dark: #0891B2; --tag-color-rgb: 6, 182, 212; }
.category-architecture { --tag-color: #84CC16; --tag-color-dark: #65A30D; --tag-color-rgb: 132, 204, 22; }
.category-crypto { --tag-color: #6366F1; --tag-color-dark: #4F46E5; --tag-color-rgb: 99, 102, 241; }
.category-optimization { --tag-color: #14B8A6; --tag-color-dark: #0F766E; --tag-color-rgb: 20, 184, 166; }
.category-general { --tag-color: #6B7280; --tag-color-dark: #4B5563; --tag-color-rgb: 107, 114, 128; }

/* Tag cloud styles */
.tag-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    justify-content: center;
    align-items: center;
}

.tag-filter-tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 2rem;
    justify-content: center;
}

.tag-filter-tab {
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    border: 2px solid #E5E7EB;
    background: white;
    color: #6B7280;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
}

.tag-filter-tab:hover,
.tag-filter-tab.active {
    border-color: #3B82F6;
    background: #3B82F6;
    color: white;
    transform: translateY(-1px);
}

/* Responsive design */
@media (max-width: 640px) {
    .enhanced-tag {
        font-size: 0.75rem;
        padding: 0.375rem 0.75rem;
    }
    
    .tag-cloud {
        gap: 0.5rem;
    }
}
</style>

<!-- Tag Display Templates -->

<!-- Template 1: Enhanced Icon Tags -->
{% comment %}
Usage: {% include 'core/components/enhanced_tags.html' with tags=post.tags.all style='icon' %}
{% endcomment %}
{% if style == 'icon' %}
    {% for tag in tags %}
    <a href="{% url 'core:blog_list' %}?tag={{ tag.slug }}" 
       class="enhanced-tag gradient-tag category-{{ tag.category }}"
       title="{{ tag.description }}">
        {% if tag.icon %}
        <i class="{{ tag.icon }}"></i>
        {% endif %}
        <span>{{ tag.name }}</span>
        {% if tag.post_count %}
        <span class="text-xs opacity-75">({{ tag.post_count }})</span>
        {% endif %}
    </a>
    {% endfor %}
{% endif %}

<!-- Template 2: Subtle Background Tags -->
{% if style == 'subtle' %}
    {% for tag in tags %}
    <a href="{% url 'core:blog_list' %}?tag={{ tag.slug }}" 
       class="enhanced-tag subtle-tag category-{{ tag.category }}"
       title="{{ tag.description }}">
        {% if tag.icon %}
        <i class="{{ tag.icon }}"></i>
        {% endif %}
        <span>{{ tag.name }}</span>
    </a>
    {% endfor %}
{% endif %}

<!-- Template 3: Outline Tags -->
{% if style == 'outline' %}
    {% for tag in tags %}
    <a href="{% url 'core:blog_list' %}?tag={{ tag.slug }}" 
       class="enhanced-tag outline-tag category-{{ tag.category }}"
       title="{{ tag.description }}">
        {% if tag.icon %}
        <i class="{{ tag.icon }}"></i>
        {% endif %}
        <span>{{ tag.name }}</span>
    </a>
    {% endfor %}
{% endif %}

<!-- Template 4: Category Filter Tabs -->
{% if style == 'filter' %}
    <div class="tag-filter-tabs">
        <a href="{% url 'core:blog_list' %}" 
           class="tag-filter-tab {% if not selected_tag %}active{% endif %}">
            <i class="fas fa-th-large mr-2"></i>All Posts
        </a>
        {% for tag in tags %}
        <a href="{% url 'core:blog_list' %}?tag={{ tag.slug }}" 
           class="tag-filter-tab {% if selected_tag == tag %}active{% endif %} category-{{ tag.category }}"
           title="{{ tag.description }}">
            {% if tag.icon %}
            <i class="{{ tag.icon }} mr-2"></i>
            {% endif %}
            {{ tag.name }}
            {% if tag.post_count %}
            <span class="ml-1 text-xs opacity-75">({{ tag.post_count }})</span>
            {% endif %}
        </a>
        {% endfor %}
    </div>
{% endif %}

<!-- Template 5: Category Grouped Tags -->
{% if style == 'grouped' %}
    {% regroup tags by category as category_groups %}
    {% for category_group in category_groups %}
        <div class="mb-6">
            <h4 class="text-sm font-semibold text-gray-600 mb-3 uppercase tracking-wide">
                {{ category_group.grouper|title }}
            </h4>
            <div class="tag-cloud justify-start">
                {% for tag in category_group.list %}
                <a href="{% url 'core:blog_list' %}?tag={{ tag.slug }}" 
                   class="enhanced-tag subtle-tag category-{{ tag.category }}"
                   title="{{ tag.description }}">
                    {% if tag.icon %}
                    <i class="{{ tag.icon }}"></i>
                    {% endif %}
                    <span>{{ tag.name }}</span>
                    {% if tag.post_count %}
                    <span class="text-xs opacity-75">({{ tag.post_count }})</span>
                    {% endif %}
                </a>
                {% endfor %}
            </div>
        </div>
    {% endfor %}
{% endif %}

<!-- Template 6: Simple Tags (fallback) -->
{% if not style or style == 'simple' %}
    {% for tag in tags %}
    <span class="inline-flex items-center gap-1 px-3 py-1 text-xs font-medium rounded-full"
          style="background-color: {{ tag.color }}20; color: {{ tag.color }};">
        {% if tag.icon %}
        <i class="{{ tag.icon }}"></i>
        {% endif %}
        {{ tag.name }}
    </span>
    {% endfor %}
{% endif %}
